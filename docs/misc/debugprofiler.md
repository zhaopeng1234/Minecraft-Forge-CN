### 调试分析器概述
Minecraft 提供了一个调试分析器，它能提供系统数据、当前游戏设置、JVM 数据、关卡数据以及各端的刻（tick）信息，帮助用户找出耗时的代码。考虑到像 `TickEvent` 和正在处理刻逻辑的 `BlockEntity` 等情况，这对于想要找出卡顿源头的模组开发者和服务器管理员来说非常有用。

### 使用调试分析器
调试分析器的使用非常简单。按下调试快捷键 `F3 + L` 即可启动分析器。10 秒后，它会自动停止；不过，也可以再次按下该快捷键提前停止。

!!! 注意
    自然地，你只能对实际执行到的代码路径进行分析。你想要分析的 `Entity` 和 `BlockEntity` 必须存在于关卡中，才能在分析结果中显示出来。

停止调试器后，它会在运行目录的 `debug/profiling` 子目录下创建一个新的压缩文件。文件名会按照日期和时间格式化为 `yyyy-mm-dd_hh_mi_ss - WorldName - VersionNumber.zip`。

### 读取分析结果
在每个端的文件夹（`client` 和 `server`）中，你会找到一个 `profiling.txt` 文件，其中包含分析结果数据。文件顶部会首先显示分析运行的时长（以毫秒为单位）以及在这段时间内运行的刻数。

在这之后，你会看到类似于下面的信息：
```
[00] levels - 96.70%/96.70%
[01] |   Level Name - 99.76%/96.47%
[02] |   |   tick - 99.31%/95.81%
[03] |   |   |   entities - 47.72%/45.72%
[04] |   |   |   |   regular - 98.32%/44.95%
[04] |   |   |   |   blockEntities - 0.90%/0.41%
[05] |   |   |   |   |   unspecified - 64.26%/0.26%
[05] |   |   |   |   |   minecraft:furnace - 33.35%/0.14%
[05] |   |   |   |   |   minecraft:chest - 2.39%/0.01%
```
下面是对每部分含义的简要解释：

| [02] | tick | 99.31% | 95.81% |
| :----------------------- | :---------------------- | :----------- | :----------- |
| 该部分的层级深度 | 该部分的名称 | 相对于其父部分所占用时间的百分比。对于第 0 层，它是一个刻所花费时间的百分比；对于第 1 层，它是其父部分所花费时间的百分比。 | 第二个百分比表示该部分在整个刻中所占用的时间比例。

### 分析自定义代码
调试分析器对 `Entity` 和 `BlockEntity` 有基本的支持。如果你想分析其他内容，可能需要手动创建自己的分析部分，示例代码如下：
```java
ProfilerFiller#push(yourSectionName : String);
// 你想要分析的代码
ProfilerFiller#pop();
```
你可以从 `Level`、`MinecraftServer` 或 `Minecraft` 实例中获取 `ProfilerFiller` 实例。之后，只需在结果文件中搜索你创建的部分名称即可。 
